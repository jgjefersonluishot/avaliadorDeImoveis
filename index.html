<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avaliador de Imóveis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body{
        background-color: #f8f9fa;
    }
    .container {
        margin-top: 30px;
        max-width: 1000px;
    }
    th, td{
        text-align: center;
        vertical-align: middle;
    }
    input[type="number"]{
        width: 100px;
    }
    .highlight{
        background-color: #e9ecef;
        font-weight: bold;
    }
</style>
<link rel="manifest" href="manifest.json">

<script>
    if('serviceWorker' in navigator){
        navigator.serviceWorker.register('service-worker.js');
    }
</script>

</head>

<body>
    <div class="container">
        <h3 class="text-center mb-4">Avaliação de Imóveis com Base no Mercado Imobiliário</h3>

        <!-- TABELA DE IMÓVEIS -->
         <table class="table table-bordered">
            <thead class="table-light">
                <tr>
                    <th></th>
                    <th>Imóvel 1</th>
                    <th>Imóvel 2</th>
                    <th>Imóvel 3</th>
                </tr>
            </thead>
            <tbody>
                <tr>

                <th>Área (m²)</th>
                <td><input type="number" id="area1" value="" oninput="calcular()"></td>
                <td><input type="number" id="area2" value="" oninput="calcular()"></td>
                <td><input type="number" id="area3" value="" oninput="calcular()"></td>
                </tr>

                <th>Valor Anunciado (R$)</th>
                <td><input type="number" id="valor1" value="" oninput="calcular()"></td>
                <td><input type="number" id="valor2" value="" oninput="calcular()"></td>
                <td><input type="number" id="valor3" value="" oninput="calcular()"></td>
                </tr>

                <th>Valor por m²</th>
                <td id="m2_1"></td>
                <td id="m2_2"></td>
                <td id="m2_3"></td>
                </tr>
            </tbody>
         </table>

        <!-- MÉDIA E CÁLCULO -->
        <h5 class="mt-4">Cálculo com base na média</h5>
        <table class="table table-bordered text-center">
            <tr>
                <th>Média dos m²</th>
                <td id="mediaM2">-</td>
            </tr>
            <tr>
                <th>Regateio (-10%)</th>
                <td id="regateioM2">-</td>
            </tr>
        </table>

        <!-- AVALIAÇÃO FINAL -->
         <h5 class="mt-4">Avaliação do Seu Imóvel</h5>
         <table class="table table-bordered text-center">
            <tr>
                <th>Área do seu imóvel (m²)</th>
                <td><input type="number" id="areaFinal" value="" oninput="calcular()"></td>
            </tr>

            <tr>
                <th>Valor do m² (com regateio)</th>
                <td id="valorFinalM2">-</td>
            </tr>

            <tr class="highlight">
                <th>Valor estimado do imóvel</th>
                <td id="valorFinal">-</td>
            </tr>
         </table>

         <!-- Botão de limpar -->
          <div class="text-center">
            <button class="btn btn-danger mt-3" onclick="limparCampos()">Limpar Campos</button>
          </div>
    </div>

    <script>
        function calcular(){

            const a1 = parseFloat(document.getElementById('area1').value) || 0;
            const v1 = parseFloat(document.getElementById('valor1').value) || 0;

            const a2 = parseFloat(document.getElementById('area2').value) || 0;
            const v2 = parseFloat(document.getElementById('valor2').value) || 0;

            const a3 = parseFloat(document.getElementById('area3').value) || 0;
            const v3 = parseFloat(document.getElementById('valor3').value) || 0;

            const m2_1 = a1 > 0 ? Math.ceil(v1/a1) : 0;
            const m2_2 = a2>  0 ? Math.ceil(v2/a2) : 0;
            const m2_3 = a3>  0 ? Math.ceil(v3/a3) : 0;

            


















        }

        function limparCampos(){
            // Zera inputs
            ['area1','area2','area3','valor1', 'valor2','valor3','areaFinal'].forEach(id=>{
                document.getElementById(id).value = '';            
            });
            // Limpar resultados
            ['m2_1','m2-2','m2_3','mediaM2','regateioM2','valorFinalM2','valorFinal'].forEach(id => {
                document.getElementById(id).innerText='-';
            });
    }

    </script>
    
</body>
</html>